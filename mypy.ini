[mypy]
# 基本配置
python_version = 3.11
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = True
disallow_untyped_decorators = False
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True
strict_equality = True
show_error_codes = True
show_column_numbers = True
pretty = True

# 错误输出
show_error_context = True
color_output = True

# 增量模式
incremental = True
cache_dir = .mypy_cache

# 导入发现
namespace_packages = True
explicit_package_bases = True
ignore_missing_imports = True

# 排除目录
exclude = (?x)(
    ^build/
    | ^dist/
    | ^\.git/
    | ^\.tox/
    | ^venv/
    | ^__pycache__/
    | ^\.pytest_cache/
    | ^htmlcov/
    | ^original/
    | ^archive/
    | ^release/
    | test_.*\.py$
  )

# 每个模块的配置
[mypy-tests.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = False

[mypy-plookingII.tests.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False

# 第三方库配置
[mypy-PIL.*]
ignore_missing_imports = True

[mypy-cv2.*]
ignore_missing_imports = True

[mypy-psutil.*]
ignore_missing_imports = True

[mypy-objc.*]
ignore_missing_imports = True

[mypy-Cocoa.*]
ignore_missing_imports = True

[mypy-Quartz.*]
ignore_missing_imports = True

[mypy-AppKit.*]
ignore_missing_imports = True

[mypy-Foundation.*]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True

[mypy-pytest_cov.*]
ignore_missing_imports = True

[mypy-pytest_timeout.*]
ignore_missing_imports = True

[mypy-pytest_mock.*]
ignore_missing_imports = True

